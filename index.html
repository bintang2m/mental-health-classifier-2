<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Classifier | B1NT4N9 Model</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* Inline CSS untuk backup jika style.css tidak load */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; }
        textarea { min-height: 150px; }
        .progress { height: 25px; }
        .prediction-item { border-left: 5px solid; margin-bottom: 10px; padding: 10px; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-heart-pulse"></i>
                <strong>Mental Health ID</strong>
            </a>
            <div class="text-white">
                <span id="statusBadge" class="badge bg-success">
                    <i class="bi bi-check-circle"></i> READY
                </span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-4">
        <!-- Header -->
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bold text-primary">
                <i class="bi bi-robot"></i><br>
                Mental Health Text Classifier
            </h1>
            <p class="lead">
                Analisis teks untuk klasifikasi kesehatan mental menggunakan model AI
                <code>B1NT4N9/roberta-mental-health-id</code>
            </p>
        </div>

        <div class="row">
            <!-- Left Column - Input -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <i class="bi bi-input-cursor-text text-primary"></i>
                            Input Teks
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">
                                <i class="bi bi-chat-left-text"></i>
                                Masukkan teks untuk dianalisis:
                            </label>
                            <textarea 
                                id="inputText" 
                                class="form-control" 
                                rows="6"
                                placeholder="Contoh: Hari ini saya merasa sangat bahagia dan bersemangat..."
                                maxlength="1000"></textarea>
                            <div class="text-end mt-2">
                                <small>
                                    <span id="charCount">0</span>/1000 karakter
                                </small>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h6>
                                <i class="bi bi-sliders text-primary"></i>
                                Pengaturan
                            </h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="form-label small">Sensitivity</label>
                                    <input type="range" class="form-range" id="sensitivitySlider" min="1" max="10" value="5">
                                    <div class="d-flex justify-content-between">
                                        <small>Low</small>
                                        <small><span id="sensitivityValue">5</span>/10</small>
                                        <small>High</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-grid gap-2">
                            <button id="analyzeBtn" class="btn btn-primary btn-lg" onclick="analyzeText()">
                                <i class="bi bi-play-circle"></i>
                                Analisis Sekarang
                            </button>
                            
                            <div class="d-flex gap-2">
                                <button class="btn btn-outline-primary flex-fill" onclick="loadExample('normal')">
                                    <i class="bi bi-emoji-smile"></i> Normal
                                </button>
                                <button class="btn btn-outline-warning flex-fill" onclick="loadExample('anxiety')">
                                    <i class="bi bi-emoji-expressionless"></i> Cemas
                                </button>
                                <button class="btn btn-outline-danger flex-fill" onclick="loadExample('depression')">
                                    <i class="bi bi-emoji-frown"></i> Depresi
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Results -->
            <div class="col-lg-6 mb-4">
                <div class="card shadow">
                    <div class="card-header bg-white">
                        <h5 class="mb-0">
                            <i class="bi bi-bar-chart-line text-primary"></i>
                            Hasil Analisis
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Loading Indicator -->
                        <div id="loadingIndicator" class="text-center py-5" style="display: none;">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-3">Menganalisis teks...</p>
                        </div>

                        <!-- Results -->
                        <div id="resultsArea">
                            <!-- Top Result -->
                            <div id="topResult" class="text-center mb-4" style="display: none;">
                                <div class="mb-3">
                                    <i id="topIcon" class="bi bi-emoji-smile display-4 text-success"></i>
                                </div>
                                <h3 id="topLabel" class="fw-bold text-success">Normal</h3>
                                <div class="progress mb-3">
                                    <div id="topBar" class="progress-bar bg-success" style="width: 80%">80%</div>
                                </div>
                                <p id="topDesc" class="text-muted">Teks menunjukkan keadaan mental yang stabil</p>
                            </div>

                            <!-- All Results -->
                            <div id="allResults" style="display: none;">
                                <h6>Detail Klasifikasi:</h6>
                                <div id="resultsList" class="mb-4"></div>
                            </div>

                            <!-- Empty State -->
                            <div id="emptyState" class="text-center py-5">
                                <i class="bi bi-chat-square-text display-1 text-muted mb-3"></i>
                                <h5 class="text-muted">Belum Ada Analisis</h5>
                                <p class="text-muted">Masukkan teks di sebelah kiri dan klik "Analisis Sekarang"</p>
                                <div class="d-flex gap-2 justify-content-center">
                                    <span class="badge bg-success">Normal</span>
                                    <span class="badge bg-warning">Anxiety</span>
                                    <span class="badge bg-danger">Depression</span>
                                    <span class="badge bg-info">Bipolar</span>
                                    <span class="badge bg-dark">Suicidal</span>
                                </div>
                            </div>
                        </div>

                        <!-- Disclaimer -->
                        <div class="alert alert-warning mt-4 small">
                            <i class="bi bi-exclamation-triangle"></i>
                            <strong>Disclaimer:</strong> Untuk edukasi. Konsultasi profesional untuk diagnosis.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Info -->
        <div class="card shadow mt-4">
            <div class="card-body">
                <h6>
                    <i class="bi bi-info-circle text-primary"></i>
                    Informasi Model
                </h6>
                <p class="mb-2">
                    <strong>Model:</strong> B1NT4N9/roberta-mental-health-id
                </p>
                <p class="mb-2">
                    <strong>Klasifikasi:</strong> Normal, Anxiety, Depression, Bipolar, Suicidal
                </p>
                <p class="mb-0">
                    <strong>Mode:</strong> 
                    <span id="modeIndicator" class="badge bg-success">Local Processing</span>
                    (100% bekerja tanpa API)
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-3 mt-4">
        <div class="container text-center">
            <small>
                Mental Health Classifier &copy; 2024 | 
                Model: B1NT4N9/roberta-mental-health-id
            </small>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
    
    <!-- Fallback JS jika script.js gagal load -->
    <script>
        // Inline fallback JavaScript
        if (typeof analyzeText === 'undefined') {
            console.log('Loading fallback JS...');
            
            // Basic fallback functions
            window.loadExample = function(type) {
                const examples = {
                    normal: "Hari ini saya merasa sangat bahagia. Pagi ini saya bangun dengan perasaan segar dan bersemangat. Saya berhasil menyelesaikan semua pekerjaan tepat waktu.",
                    anxiety: "Saya tidak bisa berhenti merasa cemas tentang presentasi besok. Jantung saya berdebar-debar sejak pagi. Pikiran saya terus membayangkan hal buruk.",
                    depression: "Sudah dua minggu saya merasa sangat sedih dan hampa. Tidak ada yang membuat saya senang lagi. Saya hanya ingin tidur sepanjang hari."
                };
                
                document.getElementById('inputText').value = examples[type] || examples.normal;
                document.getElementById('charCount').textContent = document.getElementById('inputText').value.length;
            };
            
            window.analyzeText = function() {
                alert('Fallback mode: Website berhasil load!');
                // Akan digantikan oleh script.js jika berhasil load
            };
        }
    </script>
</body>
</html>